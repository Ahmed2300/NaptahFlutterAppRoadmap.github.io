<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>خارطة طريق تطبيق نبتة فلاتر - مفصلة بالكامل</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🌱 خارطة طريق تطبيق نبتة فلاتر - دليل المطورين المحسّن</h1>
            <p><strong>الجدول الزمني:</strong> 17 أكتوبر 2025 - 20 نوفمبر 2025 (5 أسابيع)</p>
            <p><strong>الفريق:</strong> أحمد (ميزات الفحص) • محمد (المصادقة والخدمات) • منار (الواجهات والسوق)</p>
            <div style="background: linear-gradient(135deg, #10b981, #059669); padding: 20px; border-radius: 12px; color: white; margin: 20px 0;">
                <h3 style="margin: 0 0 10px 0;">📦 إعداد المشروع المطلوب</h3>
                <p style="margin: 5px 0;"><strong>Flutter SDK:</strong> 3.16+ (أحدث إصدار ثابت)</p>
                <p style="margin: 5px 0;"><strong>إدارة الحالة:</strong> flutter_riverpod (موصى به) أو flutter_bloc</p>
                <p style="margin: 5px 0;"><strong>التنقل:</strong> go_router ^12.1.3</p>
                <p style="margin: 5px 0;"><strong>Firebase:</strong> المصادقة، قاعدة البيانات الآنية، Cloud Firestore</p>
                <p style="margin: 5px 0;"><strong>مرجع تطبيق الويب:</strong> d:\my 1million dollar ideas\CropCare-main\src\</p>
            </div>
        </header>

        <!-- الأسبوع 1 -->
        <div class="week">
            <h2>الأسبوع 1: الميزات الأساسية وأساس الواجهة (17-23 أكتوبر)</h2>
            <div class="daily-tasks">
                <div class="day-column">
                    <div class="date">السبت، 17 أكتوبر</div>
                    <div class="task" data-task-id="scan-state"><strong>أحمد:</strong> إدارة حالة ميزة الفحص</div>
                    <div class="task" data-task-id="auth-service"><strong>محمد:</strong> خدمة المصادقة وإدارة الحالة</div>
                    <div class="task" data-task-id="marketplace-service"><strong>محمد:</strong> طبقة خدمة السوق</div>
                </div>
                <div class="day-column">
                    <div class="date">الأحد، 18 أكتوبر</div>
                    <div class="task" data-task-id="scan-ui-impl"><strong>أحمد:</strong> تنفيذ واجهة الفحص</div>
                    <div class="task" data-task-id="welcome-screen-ui"><strong>محمد:</strong> واجهة شاشة الترحيب والتأهيل</div>
                    <div class="task" data-task-id="marketplace-main-ui"><strong>منار:</strong> واجهة السوق الرئيسية</div>
                </div>
                <div class="day-column">
                    <div class="date">الاثنين، 19 أكتوبر</div>
                    <div class="task" data-task-id="camera-screen"><strong>أحمد:</strong> تنفيذ شاشة الكاميرا</div>
                    <div class="task" data-task-id="app-entry-routing"><strong>محمد:</strong> نقطة دخول التطبيق ومنطق التوجيه</div>
                    <div class="task" data-task-id="product-card-widget"><strong>منار:</strong> عنصر بطاقة المنتج</div>
                </div>
                <div class="day-column">
                    <div class="date">الثلاثاء، 20 أكتوبر</div>
                    <div class="task" data-task-id="gemini-service"><strong>أحمد:</strong> خدمة تحليل الصور</div>
                    <div class="task" data-task-id="guest-mode"><strong>محمد:</strong> تنفيذ وضع الضيف</div>
                    <div class="task" data-task-id="marketplace-state"><strong>منار ومحمد:</strong> حالة السوق ودمج الواجهة</div>
                </div>
                <div class="day-column">
                    <div class="date">الأربعاء، 21 أكتوبر</div>
                    <div class="task" data-task-id="core-analysis-logic"><strong>أحمد:</strong> نقل منطق التحليل الأساسي</div>
                    <div class="task" data-task-id="user-profile-service"><strong>محمد:</strong> خدمة الملف الشخصي والبيانات</div>
                    <div class="task" data-task-id="cart-ui"><strong>منار:</strong> واجهة سلة التسوق</div>
                </div>
                <div class="day-column">
                    <div class="date">الخميس، 22 أكتوبر</div>
                    <div class="task" data-task-id="cart-logic"><strong>محمد:</strong> منطق سلة التسوق</div>
                    <div class="task" data-task-id="team-sync-1"><strong>الجميع:</strong> مزامنة الفريق ومراجعة الكود</div>
                </div>
                <div class="day-column">
                    <div class="date">الجمعة، 23 أكتوبر</div>
                    <div class="task" data-task-id="checkout-ui"><strong>منار:</strong> واجهة الدفع</div>
                    <div class="task" data-task-id="payment-integration"><strong>محمد:</strong> تكامل الدفع</div>
                </div>
            </div>
        </div>

        <!-- الأسبوع 2 -->
        <div class="week">
            <h2>الأسبوع 2: المجتمع والميزات المتقدمة (24-30 أكتوبر)</h2>
            <div class="daily-tasks">
                <div class="day-column">
                    <div class="date">السبت، 24 أكتوبر</div>
                    <div class="task" data-task-id="scan-history"><strong>أحمد:</strong> سجل الفحص والتخزين الدائم</div>
                    <div class="task" data-task-id="community-service"><strong>محمد:</strong> طبقة خدمة المجتمع</div>
                    <div class="task" data-task-id="community-main-ui"><strong>منار:</strong> واجهة شاشة المجتمع الرئيسية</div>
                </div>
                <div class="day-column">
                    <div class="date">الأحد، 25 أكتوبر</div>
                    <div class="task" data-task-id="results-display"><strong>أحمد:</strong> عرض النتائج وتوصية المنتجات</div>
                    <div class="task" data-task-id="community-state"><strong>محمد ومنار:</strong> حالة المجتمع ودمج الواجهة</div>
                    <div class="task" data-task-id="stories-ui"><strong>أحمد:</strong> واجهة ميزة القصص</div>
                </div>
                <div class="day-column">
                    <div class="date">الاثنين، 26 أكتوبر</div>
                    <div class="task" data-task-id="post-detail-comments"><strong>أحمد:</strong> تفاصيل المنشور وشاشة التعليقات</div>
                    <div class="task" data-task-id="post-card-widget"><strong>منار:</strong> عنصر بطاقة المنشور</div>
                </div>
                <div class="day-column">
                    <div class="date">الثلاثاء، 27 أكتوبر</div>
                    <div class="task" data-task-id="deep-linking-sharing"><strong>الجميع:</strong> الروابط العميقة والمشاركة</div>
                </div>
                <div class="day-column">
                    <div class="date">الأربعاء، 28 أكتوبر</div>
                    <div class="task" data-task-id="feature-integration"><strong>الجميع:</strong> دمج الميزات</div>
                </div>
                <div class="day-column">
                    <div class="date">الخميس، 29 أكتوبر</div>
                    <div class="task" data-task-id="team-sync-2"><strong>الجميع:</strong> مزامنة الفريق ومراجعة الكود</div>
                </div>
                <div class="day-column">
                    <div class="date">الجمعة، 30 أكتوبر</div>
                    <div class="task" data-task-id="mid-demo"><strong>الجميع:</strong> عرض منتصف المشروع والملاحظات</div>
                </div>
            </div>
        </div>

        <!-- الأسبوع 3 -->
        <div class="week">
            <h2>الأسبوع 3: الاختبار والتحسين (31 أكتوبر - 6 نوفمبر)</h2>
            <p style="background: #fef3c7; padding: 15px; border-radius: 8px; border-right: 4px solid #f59e0b;">
                <strong>⚠️ أسبوع حاسم:</strong> هذا هو الأسبوع الأهم! ركز على الجودة والاستقرار وتجربة المستخدم. لا توجد ميزات جديدة - الاختبار والإصلاح والتحسين فقط.
            </p>
            <div class="final-phase-tasks">
                <div class="task" data-task-id="e2e-testing"><strong>الجميع:</strong> الاختبار الشامل (أيام 1-3)</div>
                <div class="task" data-task-id="performance-optimization"><strong>الجميع:</strong> تحسين الأداء (أيام 3-5)</div>
                <div class="task" data-task-id="bug-fixing"><strong>الجميع:</strong> إصلاح الأخطاء والتلميع (أيام 5-7)</div>
            </div>
            <div style="margin-top: 20px; padding: 15px; background: #e0f2fe; border-radius: 8px;">
                <h4 style="margin: 0 0 10px 0;">📋 مخرجات الأسبوع 3:</h4>
                <ul style="margin: 5px 0;">
                    <li><strong>أحمد:</strong> اختبار ميزة الفحص الكامل (الكاميرا، الذكاء الاصطناعي، النتائج، السجل)</li>
                    <li><strong>محمد:</strong> اختبار تدفقات المصادقة، تكامل الدفع، موثوقية API</li>
                    <li><strong>منار:</strong> تلميع الواجهة، اختبار التصميم المستجيب، إمكانية الوصول</li>
                    <li><strong>الجميع:</strong> إنشاء وثيقة سيناريوهات الاختبار، جدول تتبع الأخطاء</li>
                </ul>
            </div>
        </div>

        <!-- الأسبوع 4 -->
        <div class="week">
            <h2>الأسبوع 4: الإطلاق وما بعد الإطلاق (7-13 نوفمبر)</h2>
            <p style="background: #dcfce7; padding: 15px; border-radius: 8px; border-right: 4px solid #10b981;">
                <strong>🚀 أسبوع الإطلاق:</strong> قدم للمتاجر، راقب الأداء، واستعد لملاحظات المستخدمين. احتفظ بخطط الرجوع جاهزة!
            </p>
            <div class="final-phase-tasks">
                <div class="task" data-task-id="app-store-prep"><strong>الجميع:</strong> التحضير للمتاجر (أيام 1-3)</div>
                <div class="task" data-task-id="launch"><strong>الجميع:</strong> الإطلاق! (يوم 4)</div>
                <div class="task" data-task-id="post-launch-monitoring"><strong>الجميع:</strong> مراقبة ما بعد الإطلاق (أيام 5-7)</div>
            </div>
            <div style="margin-top: 20px; padding: 15px; background: #fef3c7; border-radius: 8px;">
                <h4 style="margin: 0 0 10px 0;">📱 قائمة تقديم المتاجر:</h4>
                <ul style="margin: 5px 0;">
                    <li>✓ لقطات الشاشة (iPhone 6.5"، iPad 10.5"، هواتف وأجهزة أندرويد)</li>
                    <li>✓ أوصاف المتاجر (بالعربية والإنجليزية)</li>
                    <li>✓ سياسة الخصوصية وشروط الخدمة URLs</li>
                    <li>✓ أيقونات التطبيق (1024x1024 iOS، adaptive icon أندرويد)</li>
                    <li>✓ حسابات اختبارية لمراجعة التطبيق</li>
                    <li>✓ البناء موقّع بالشهادات الصحيحة</li>
                </ul>
            </div>
        </div>

        <!-- الأسبوع 5 -->
        <div class="week">
            <h2>الأسبوع 5: العمل على العرض التقديمي (14-20 نوفمبر)</h2>
            <div class="daily-tasks">
                <div class="day-column">
                    <div class="date">الجمعة، 14 نوفمبر - الخميس، 20 نوفمبر</div>
                    <div class="task" data-task-id="presentation-creation">
                        <strong>أحمد ومنار:</strong> إنشاء العرض التقديمي
                        <p>إنشاء العرض باستخدام Canva، بما في ذلك شرائح للمشكلة، الحل، العرض التوضيحي، خارطة الطريق، والفريق. تسجيل التعليقات الصوتية للعرض.</p>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- جميع النوافذ المنبثقة - مهام أحمد -->
    <div id="scan-state-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>📱 دليل إدارة حالة ميزة الفحص</h2>
        <p><strong>المسؤول:</strong> أحمد | <strong>الوقت:</strong> 4-6 ساعات | <strong>اليوم:</strong> السبت 17 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>إعداد إدارة الحالة لشاشة الفحص للتعامل مع التقاط الصور وتحليل الذكاء الاصطناعي وعرض النتائج.</p>
        <h3>📦 الحزم المطلوبة</h3>
        <ul><li>flutter_riverpod: ^2.4.9 أو flutter_bloc: ^8.1.3</li><li>freezed_annotation: ^2.4.1</li></ul>
        <h3>✅ قائمة الاختبار</h3>
        <ul><li>انتقالات الحالة صحيحة</li><li>فرض حد الفحص يعمل</li><li>معالجة الأخطاء تعرض رسائل مناسبة</li></ul>
    </div></div>

    <div id="gemini-service-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>🤖 دليل خدمة Gemini AI</h2>
        <p><strong>المسؤول:</strong> أحمد | <strong>الوقت:</strong> 6-8 ساعات | <strong>اليوم:</strong> الثلاثاء 20 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>إنشاء خدمة قوية للتواصل مع Google Gemini 2.5-flash API لاكتشاف أمراض النباتات بدقة 95%.</p>
        <h3>📦 الحزم المطلوبة</h3>
        <ul><li>http: ^1.1.0</li><li>dart:convert ودart:io (مدمجة)</li></ul>
        <h3>⚠️ اعتبارات حاسمة</h3>
        <ul><li>تناوب مفاتيح API التلقائي</li><li>ضغط الصور >2MB</li><li>مهلة زمنية 30 ثانية</li></ul>
    </div></div>

    <div id="scan-ui-impl-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>📱 دليل تنفيذ واجهة الفحص</h2>
        <p><strong>المسؤول:</strong> أحمد</p>
        <h3>🎯 الهدف</h3>
        <p>بناء الواجهة الرئيسية لشاشة الفحص.</p>
        <h3>📦 الحزم</h3>
        <ul><li>image_picker</li></ul>
        <h3>الخطوات</h3>
        <ol><li>إنشاء scan_screen.dart</li><li>إضافة أزرار "اختر من المعرض" و"التقط صورة"</li></ol>
    </div></div>

    <div id="camera-screen-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>📷 دليل شاشة الكاميرا</h2>
        <p><strong>المسؤول:</strong> أحمد</p>
        <h3>🎯 الهدف</h3>
        <p>إنشاء شاشة مخصصة لالتقاط الصور.</p>
        <h3>📦 الحزم</h3>
        <ul><li>camera</li></ul>
    </div></div>

    <div id="scan-history-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>📜 دليل سجل الفحص</h2>
        <p><strong>المسؤول:</strong> أحمد</p>
        <h3>🎯 الهدف</h3>
        <p>حفظ نتائج الفحص محليًا.</p>
        <h3>📦 الحزم</h3>
        <ul><li>hive و hive_flutter</li></ul>
    </div></div>

    <!-- مهام محمد -->
    <div id="auth-service-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>🔐 دليل خدمة المصادقة</h2>
        <p><strong>المسؤول:</strong> محمد | <strong>الوقت:</strong> 6-8 ساعات | <strong>اليوم:</strong> السبت 17 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>إنشاء نظام مصادقة قوي مع Firebase Auth وتسجيل الدخول بجوجل ووضع الضيف.</p>
        <h3>📦 الحزم المطلوبة</h3>
        <ul><li>firebase_core: ^2.24.2</li><li>firebase_auth: ^4.15.3</li><li>google_sign_in: ^6.1.6</li><li>flutter_riverpod: ^2.4.9</li></ul>
        <h3>🔧 إعداد Firebase</h3>
        <ul><li>تثبيت Firebase CLI: npm install -g firebase-tools</li><li>تكوين المشروع: flutterfire configure</li><li>تفعيل تسجيل الدخول بجوجل</li></ul>
        <h3>✅ قائمة الاختبار</h3>
        <ul><li>تسجيل الدخول بجوجل يعمل على iOS/Android</li><li>وضع الضيف محدود بـ5 فحوصات</li><li>الحالة تستمر عبر إعادة التشغيل</li></ul>
    </div></div>

    <div id="community-service-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>👥 دليل خدمة المجتمع</h2>
        <p><strong>المسؤول:</strong> محمد | <strong>الوقت:</strong> 8-10 ساعات | <strong>اليوم:</strong> السبت 24 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>إنشاء طبقة خدمة شاملة لميزات المجتمع مع تحديثات آنية ونظام التصويت.</p>
        <h3>📦 الحزم</h3>
        <ul><li>firebase_database: ^10.3.8</li><li>cloud_firestore: ^4.13.6</li><li>intl: ^0.18.1</li></ul>
        <h3>⚠️ اعتبارات حاسمة</h3>
        <ul><li>استخدم Transactions للتصويت</li><li>حدد الاستعلامات بـ20-50 عنصر</li><li>ألغِ اشتراكات التدفقات عند dispose</li></ul>
    </div></div>

    <!-- مهام الأسبوع 3-5 -->
    <div id="e2e-testing-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>🧪 دليل الاختبار الشامل</h2>
        <p><strong>الفريق:</strong> الجميع | <strong>المدة:</strong> 3 أيام | <strong>التواريخ:</strong> 31 أكتوبر - 2 نوفمبر</p>
        <h3>🎯 الهدف</h3>
        <p>إجراء اختبار شامل للتأكد من أن جميع الميزات تعمل بشكل صحيح على iOS و Android.</p>
        <h3>📋 مجالات الاختبار الرئيسية</h3>
        <ul><li><strong>المصادقة:</strong> تسجيل دخول، خروج، وضع الضيف</li><li><strong>الفحص:</strong> كاميرا، AI، نتائج، سجل</li><li><strong>المجتمع:</strong> منشورات، تعليقات، تصويت، قصص</li><li><strong>السوق:</strong> تصفح، سلة، دفع</li></ul>
        <h3>✅ معايير الاكتمال</h3>
        <ul><li>جميع الحالات الحرجة تنجح (100%)</li><li>اختبار على 3 أجهزة فعلية</li><li>لا تعطل خلال 30 دقيقة استخدام</li></ul>
    </div></div>

    <div id="performance-optimization-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>⚡ دليل تحسين الأداء</h2>
        <p><strong>الفريق:</strong> الجميع | <strong>المدة:</strong> 2 أيام | <strong>التواريخ:</strong> 3-4 نوفمبر</p>
        <h3>🎯 أهداف الأداء</h3>
        <ul><li>بدء التطبيق: &lt; 3 ثواني</li><li>انتقالات الشاشات: &lt; 100ms</li><li>استدعاءات API: &lt; 5 ثواني</li><li>استخدام الذاكرة: &lt; 200MB</li></ul>
        <h3>🔧 قائمة التحسين</h3>
        <ul><li>ضغط الصور قبل الرفع</li><li>استخدام التحميل الكسول للقوائم</li><li>إلغاء اشتراكات التدفقات</li><li>استخدام const constructors</li></ul>
    </div></div>

    <div id="app-store-prep-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>🏪 دليل التحضير للمتاجر</h2>
        <p><strong>الفريق:</strong> الجميع | <strong>المدة:</strong> 3 أيام | <strong>التواريخ:</strong> 7-9 نوفمبر</p>
        <h3>📱 متطلبات iOS</h3>
        <ul><li>لقطات شاشة: 1290x2796 (iPhone) و 2048x2732 (iPad)</li><li>وصف التطبيق بالعربية والإنجليزية</li><li>أيقونة 1024x1024</li></ul>
        <h3>🤖 متطلبات Android</h3>
        <ul><li>لقطات شاشة: 1080x1920 بكسل</li><li>رسم مميز: 1024x500</li><li>Adaptive Icon</li></ul>
    </div></div>

    <div id="presentation-creation-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>🎤 دليل إنشاء العرض التقديمي</h2>
        <p><strong>المسؤولان:</strong> أحمد ومنار | <strong>المدة:</strong> 7 أيام | <strong>التواريخ:</strong> 14-20 نوفمبر</p>
        <h3>🎯 الهدف</h3>
        <p>إنشاء عرض تقديمي مقنع مدته 5-7 دقائق.</p>
        <h3>📊 هيكل العرض (12-15 شريحة)</h3>
        <ol><li>شريحة العنوان: الشعار + الفريق</li><li>المشكلة: التحديات الزراعية في مصر</li><li>الحل: تطبيق نبتة بالذكاء الاصطناعي</li><li>العرض التوضيحي: 3 تدفقات رئيسية</li><li>الميزات الرئيسية</li><li>رحلة التطوير</li><li>التأثير والمقاييس</li><li>الفريق</li><li>خارطة الطريق المستقبلية</li><li>شكراً والأسئلة</li></ol>
        <h3>🎬 تسجيل الفيديو التوضيحي</h3>
        <ul><li>3-4 دقائق</li><li>1920x1080</li><li>تعليق صوتي بالعربية أو الإنجليزية</li></ul>
    </div></div>

    <!-- نوافذ إضافية -->
    <div id="welcome-screen-ui-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>شاشة الترحيب</h2>
        <p>بناء الشاشة الأولية للمستخدمين الجدد.</p>
    </div></div>
    <div id="marketplace-service-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>🛒 دليل طبقة خدمة السوق</h2>
        <p><strong>المسؤول:</strong> محمد | <strong>الوقت:</strong> 6-8 ساعات | <strong>اليوم:</strong> السبت 17 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>إنشاء طبقة خدمة شاملة للتعامل مع جميع الاتصالات بـ Firebase لميزات السوق (المنتجات، السلة، الطلبات).</p>
        
        <h3>📦 الحزم المطلوبة</h3>
        <ul>
            <li>cloud_firestore: ^4.13.6 (أو firebase_database إذا كنت تستخدم RTDB)</li>
            <li>مدمجة: dart:async</li>
        </ul>
        
        <h3>📋 خطوات التنفيذ</h3>
        <ol>
            <li><strong>إنشاء marketplace_service.dart</strong> في <code>lib/data/services/</code></li>
            <li><strong>تنفيذ methods المنتجات:</strong>
                <ul>
                    <li><code>Future&lt;List&lt;Product&gt;&gt; getProducts({String? category})</code> - جلب جميع المنتجات أو المصفاة</li>
                    <li><code>Future&lt;List&lt;Product&gt;&gt; searchProducts(String query)</code> - البحث بالاسم/الوصف</li>
                    <li><code>Future&lt;Product&gt; getProductById(String productId)</code> - جلب تفاصيل منتج واحد</li>
                </ul>
            </li>
            <li><strong>تنفيذ methods السلة:</strong>
                <ul>
                    <li><code>Future&lt;Cart&gt; getCart(String userId)</code> - جلب سلة المستخدم</li>
                    <li><code>Future&lt;void&gt; addToCart(String userId, String productId, int quantity)</code> - إضافة عنصر</li>
                    <li><code>Future&lt;void&gt; updateCartItem(String userId, String cartItemId, int quantity)</code> - تحديث الكمية</li>
                    <li><code>Future&lt;void&gt; removeFromCart(String userId, String cartItemId)</code> - حذف عنصر</li>
                    <li><code>Future&lt;void&gt; clearCart(String userId)</code> - مسح جميع العناصر</li>
                </ul>
            </li>
            <li><strong>تنفيذ methods الطلبات:</strong>
                <ul>
                    <li><code>Future&lt;Order&gt; createOrder(String userId, OrderDetails details)</code> - إنشاء طلب جديد</li>
                    <li><code>Future&lt;List&lt;Order&gt;&gt; getUserOrders(String userId)</code> - جلب سجل الطلبات</li>
                </ul>
            </li>
        </ol>
        
        <h3>📊 مرجع Schema Firebase</h3>
        <p><strong>استخدم schema Firebase الموجود من تطبيق الويب:</strong></p>
        <ul>
            <li><strong>مجموعة المنتجات:</strong> /products/{productId}</li>
            <li><strong>مجموعة السلات:</strong> /carts/{userId}/items/{cartItemId}</li>
            <li><strong>مجموعة الطلبات:</strong> /orders/{orderId}</li>
        </ul>
        <p><em>ملاحظة: راجع بنية Firebase في تطبيق الويب للحصول على أسماء الحقول وأنواع البيانات الدقيقة.</em></p>
        
        <h3>📚 مرجع تطبيق الويب</h3>
        <ul>
            <li>ملف: <code>src/components/Marketplace.tsx</code></li>
            <li>راجع منطق جلب المنتجات وبنية البيانات الموجودة</li>
        </ul>
        
        <h3>✅ قائمة الاختبار</h3>
        <ul>
            <li>✓ المنتجات تُحمّل بنجاح من Firebase</li>
            <li>✓ البحث يُرجع نتائج مصفاة</li>
            <li>✓ عمليات السلة (إضافة/تحديث/حذف) تعمل بشكل صحيح</li>
            <li>✓ السلة تستمر عبر إعادة تشغيل التطبيق</li>
            <li>✓ الطلبات تُنشأ مع جميع الحقول المطلوبة</li>
            <li>✓ معالجة الأخطاء لفشل الشبكة</li>
        </ul>
        
        <h3>🔗 التبعيات</h3>
        <p><strong>مطلوب قبل البدء:</strong> Firebase مُكوّن، نماذج بيانات المنتجات معرّفة</p>
        <p><strong>يعيق:</strong> تنفيذ واجهة السوق، واجهة السلة</p>
    </div></div>
    <div id="marketplace-main-ui-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>🏪 دليل واجهة السوق الرئيسية</h2>
        <p><strong>المسؤولة:</strong> منار | <strong>الوقت:</strong> 6-8 ساعات | <strong>اليوم:</strong> الأحد 18 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>بناء واجهة شاشة السوق الرئيسية مع تصفح المنتجات، البحث، الفلترة، وخيارات العرض.</p>
        
        <h3>📋 خطوات التنفيذ</h3>
        <ol>
            <li><strong>إنشاء marketplace_screen.dart</strong> في <code>lib/presentation/screens/</code></li>
            <li><strong>تنفيذ قسم الرأس:</strong>
                <ul>
                    <li>شريط التطبيق مع عنوان "السوق"</li>
                    <li>زر أيقونة السلة مع عداد الشارة</li>
                </ul>
            </li>
            <li><strong>إضافة شريط البحث:</strong>
                <ul>
                    <li>TextField مع أيقونة بحث</li>
                    <li>بحث مع تأخير (300ms)</li>
                    <li>زر مسح عند إدخال نص</li>
                </ul>
            </li>
            <li><strong>تنفيذ خيارات الفلترة/الترتيب:</strong>
                <ul>
                    <li>chips أفقية للفلترة (الكل، بذور، أسمدة، أدوات، معالجات)</li>
                    <li>قائمة منسدلة للترتيب (السعر: من الأقل للأعلى، من الأعلى للأقل، شائع، جديد)</li>
                </ul>
            </li>
            <li><strong>إضافة تبديل العرض:</strong>
                <ul>
                    <li>أزرار أيقونات للتبديل بين عرض الشبكة والقائمة</li>
                    <li>الاحتفاظ بتفضيل العرض المحدد</li>
                </ul>
            </li>
            <li><strong>تنفيذ شبكة/قائمة المنتجات:</strong>
                <ul>
                    <li>GridView.builder لعرض الشبكة (عمودان)</li>
                    <li>ListView.builder لعرض القائمة</li>
                    <li>استخدام widget ProductCard لكل عنصر</li>
                    <li>وظيفة السحب للتحديث</li>
                </ul>
            </li>
        </ol>
        
        <h3>🎨 عناصر الواجهة</h3>
        <ul>
            <li><strong>شريط البحث:</strong> حقل نص محدد مع أيقونة بحث</li>
            <li><strong>فلاتر الفئات:</strong> chips قابلة للتمرير أفقيًا</li>
            <li><strong>تبديل الشبكة/القائمة:</strong> أزرار أيقونات (grid_view / list)</li>
            <li><strong>شبكة المنتجات:</strong> شبكة من عمودين مع مسافات</li>
            <li><strong>حالة فارغة:</strong> رسالة "لا توجد منتجات" مع رسم توضيحي</li>
            <li><strong>حالة التحميل:</strong> تأثير shimmer أو مؤشر تقدم دائري</li>
        </ul>
        
        <h3>✅ قائمة الاختبار</h3>
        <ul>
            <li>✓ الواجهة تطابق تصميم Figma</li>
            <li>✓ شريط البحث يصفي المنتجات بشكل صحيح</li>
            <li>✓ فلاتر الفئات تعمل</li>
            <li>✓ خيارات الترتيب تعيد ترتيب المنتجات</li>
            <li>✓ تبديل الشبكة/القائمة يعمل بسلاسة</li>
            <li>✓ السحب للتحديث يعيد تحميل المنتجات</li>
            <li>✓ مستجيبة على أحجام شاشات مختلفة</li>
        </ul>
        
        <h3>🔗 التبعيات</h3>
        <p><strong>مطلوب قبل البدء:</strong> خدمة السوق منفذة بواسطة محمد</p>
        <p><strong>يعيق:</strong> عنصر بطاقة المنتج، دمج الحالة</p>
    </div></div>
    <div id="product-card-widget-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>🏷️ دليل عنصر بطاقة المنتج</h2>
        <p><strong>المسؤولة:</strong> منار | <strong>الوقت:</strong> 3-4 ساعات | <strong>اليوم:</strong> الاثنين 19 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>إنشاء عنصر قابل لإعادة الاستخدام لعرض منتج واحد.</p>
        <h3>📋 الخطوات</h3>
        <ol>
            <li>إنشاء product_card.dart</li>
            <li>عرض جميع معلومات المنتج بناءً على التصميم</li>
            <li>التأكد من أن العنصر يمكن التكيف لعرض الشبكة والقائمة</li>
        </ol>
        <h3>🎨 عناصر البطاقة</h3>
        <ul>
            <li>صورة المنتج مع placeholder</li>
            <li>اسم المنتج</li>
            <li>السعر والتقييم</li>
            <li>زر "أضف للسلة"</li>
            <li>علامة "نفد من المخزون" إن وُجدت</li>
        </ul>
    </div></div>
    <div id="cart-ui-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>🛒 دليل واجهة سلة التسوق</h2>
        <p><strong>المسؤولة:</strong> منار | <strong>الوقت:</strong> 4-5 ساعات | <strong>اليوم:</strong> الأربعاء 21 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>بناء واجهة شاشة سلة التسوق.</p>
        <h3>📋 الخطوات</h3>
        <ol>
            <li>إنشاء cart_screen.dart</li>
            <li>عرض قائمة العناصر</li>
            <li>إضافة أزرار تغيير الكمية</li>
            <li>عرض السعر الإجمالي</li>
        </ol>
        <h3>🎨 عناصر الواجهة</h3>
        <ul>
            <li>قائمة عناصر السلة</li>
            <li>أزرار +/- للكمية</li>
            <li>زر حذف العنصر</li>
            <li>ملخص الطلب (المجموع الفرعي، الضرائب، الإجمالي)</li>
            <li>زر "متابعة للدفع"</li>
        </ul>
    </div></div>
    <div id="cart-logic-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>⚙️ دليل منطق سلة التسوق</h2>
        <p><strong>المسؤول:</strong> محمد | <strong>الوقت:</strong> 4-5 ساعات | <strong>اليوم:</strong> الخميس 22 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>تنفيذ منطق العمل لسلة التسوق.</p>
        <h3>📋 الخطوات</h3>
        <ol>
            <li>إنشاء CartBLoC أو CartNotifier</li>
            <li>تنفيذ methods لجلب وتحديث وحذف عناصر السلة</li>
            <li>استدعاء MarketplaceService</li>
        </ol>
        <h3>⚙️ الوظائف المطلوبة</h3>
        <ul>
            <li>fetchCart() - جلب السلة</li>
            <li>updateQuantity() - تحديث الكمية</li>
            <li>removeItem() - حذف عنصر</li>
            <li>calculateTotal() - حساب الإجمالي</li>
            <li>clearCart() - مسح السلة</li>
        </ul>
    </div></div>
    <div id="checkout-ui-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>💳 دليل واجهة الدفع</h2>
        <p><strong>المسؤولة:</strong> منار | <strong>الوقت:</strong> 5-6 ساعات | <strong>اليوم:</strong> الجمعة 23 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>بناء واجهة عملية الدفع.</p>
        <h3>📋 الخطوات</h3>
        <ol>
            <li>إنشاء checkout_screen.dart</li>
            <li>تصميم نماذج لعنوان الشحن</li>
            <li>اختيار طريقة الدفع</li>
        </ol>
        <h3>🎨 عناصر الواجهة</h3>
        <ul>
            <li>نموذج عنوان الشحن (الاسم، العنوان، المدينة، الرمز البريدي، الهاتف)</li>
            <li>اختيار طريقة الدفع (PayPal، بطاقة ائتمان، الدفع عند الاستلام)</li>
            <li>ملخص الطلب</li>
            <li>زر "تأكيد الطلب"</li>
        </ul>
    </div></div>
    <div id="payment-integration-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>💰 دليل تكامل الدفع PayPal</h2>
        <p><strong>المسؤول:</strong> محمد | <strong>الوقت:</strong> 6-8 ساعات | <strong>اليوم:</strong> الجمعة 23 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>تكامل بوابة الدفع PayPal.</p>
        <h3>📦 الحزم المطلوبة</h3>
        <ul><li>flutter_paypal أو webview_flutter</li></ul>
        <h3>📋 الخطوات</h3>
        <ol>
            <li>استخدام حزمة أو webview للتعامل مع تدفق PayPal</li>
            <li>عند النجاح، استدعاء createOrder() في MarketplaceService</li>
        </ol>
        <h3>🔑 الإعداد المطلوب</h3>
        <ul>
            <li>PayPal Client ID و Secret</li>
            <li>بيئة Sandbox للاختبار</li>
            <li>Webhook URLs</li>
        </ul>
        <h3>✅ قائمة الاختبار</h3>
        <ul>
            <li>✓ الدفع يتم بنجاح في وضع Sandbox</li>
            <li>✓ الطلب يُنشأ بعد الدفع الناجح</li>
            <li>✓ معالجة أخطاء الدفع بشكل صحيح</li>
        </ul>
    </div></div>
    <div id="community-main-ui-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>👥 دليل واجهة المجتمع الرئيسية</h2>
        <p><strong>المسؤولة:</strong> منار | <strong>الوقت:</strong> 6-8 ساعات | <strong>اليوم:</strong> السبت 24 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>بناء الواجهة الرئيسية لشاشة المجتمع بناءً على التصميم.</p>
        <h3>📋 الخطوات</h3>
        <ol>
            <li>إنشاء community_screen.dart</li>
            <li>تنفيذ التخطيط الرئيسي وتبويبات القنوات</li>
            <li>إضافة عناصر تحكم البحث والترتيب</li>
        </ol>
        <h3>🎨 عناصر الواجهة</h3>
        <ul>
            <li>شريط القصص في الأعلى</li>
            <li>تبويبات القنوات (#تشخيص-النباتات، #أدلة-البستنة، #عام)</li>
            <li>خلاصة المنشورات مع pull-to-refresh</li>
            <li>زر "إنشاء منشور" عائم</li>
        </ul>
    </div></div>
    <div id="stories-ui-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>📸 دليل واجهة القصص</h2>
        <p><strong>المسؤول:</strong> أحمد | <strong>الوقت:</strong> 5-6 ساعات | <strong>اليوم:</strong> الأحد 25 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>تنفيذ واجهة ميزة القصص على غرار Instagram.</p>
        <h3>📋 الخطوات</h3>
        <ol>
            <li>إنشاء stories_bar.dart - شريط أفقي للقصص</li>
            <li>إنشاء story_circle.dart - دائرة مستخدم مع حد ملون</li>
            <li>إنشاء story_viewer.dart - عارض بملء الشاشة مع تقدم تلقائي</li>
            <li>إنشاء create_story_modal.dart - نافذة منبثقة لإنشاء قصة</li>
        </ol>
        <h3>⏱️ المؤقتات</h3>
        <ul>
            <li>مدة عرض كل قصة: 5 ثواني</li>
            <li>انتهاء القصة: 24 ساعة</li>
            <li>شريط التقدم المتحرك</li>
        </ul>
    </div></div>
    <div id="post-detail-comments-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>💬 دليل تفاصيل المنشور والتعليقات</h2>
        <p><strong>المسؤول:</strong> أحمد | <strong>الوقت:</strong> 5-6 ساعات | <strong>اليوم:</strong> الاثنين 26 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>بناء شاشة لعرض منشور واحد وتعليقاته.</p>
        <h3>📋 الخطوات</h3>
        <ol>
            <li>إنشاء post_detail_screen.dart</li>
            <li>عرض محتوى المنشور الكامل</li>
            <li>عرض ListView للتعليقات</li>
            <li>إضافة TextFormField وزر "إرسال" لإضافة تعليقات جديدة</li>
        </ol>
        <h3>🎨 عناصر الواجهة</h3>
        <ul>
            <li>رأس المنشور (صورة المؤلف، الاسم، الوقت)</li>
            <li>محتوى المنشور والصورة</li>
            <li>أزرار التصويت والمشاركة</li>
            <li>قائمة التعليقات</li>
            <li>حقل إدخال التعليق</li>
        </ul>
    </div></div>
    <div id="post-card-widget-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>📝 دليل عنصر بطاقة المنشور</h2>
        <p><strong>المسؤولة:</strong> منار | <strong>الوقت:</strong> 4-5 ساعات | <strong>اليوم:</strong> الاثنين 26 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>إنشاء عنصر قابل لإعادة الاستخدام لعرض منشور واحد في الخلاصة.</p>
        <h3>📋 الخطوات</h3>
        <ol>
            <li>إنشاء post_card.dart</li>
            <li>عرض عنوان المنشور، مقتطف، المؤلف، عدد الأصوات، إلخ بناءً على التصميم</li>
        </ol>
        <h3>🎨 عناصر البطاقة</h3>
        <ul>
            <li>صورة المؤلف واسمه</li>
            <li>عنوان المنشور</li>
            <li>مقتطف من المحتوى (3 أسطر)</li>
            <li>صورة المنشور (إن وُجدت)</li>
            <li>أزرار التصويت (⬆️ ⬇️) مع العدد</li>
            <li>عدد التعليقات</li>
            <li>علامة القناة</li>
        </ul>
    </div></div>
    <div id="app-entry-routing-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>🧭 دليل نقطة الدخول والتوجيه</h2>
        <p><strong>المسؤول:</strong> محمد | <strong>الوقت:</strong> 4-5 ساعات | <strong>اليوم:</strong> الاثنين 19 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>تكرار منطق ProtectedRoute لتوجيه المستخدمين عند بدء التطبيق.</p>
        <h3>📦 الحزم المطلوبة</h3>
        <ul><li>go_router: ^12.1.3</li></ul>
        <h3>📋 الخطوات</h3>
        <ol>
            <li>في تكوين الموجه، الاستماع لتدفق حالة المصادقة</li>
            <li>استخدام وظيفة redirect في go_router</li>
            <li>أثناء التحميل، عرض دوار. إذا كان المستخدم موجودًا، إعادة التوجيه إلى /scan. إذا كان null، إعادة التوجيه إلى /welcome</li>
        </ol>
        <h3>🗺️ المسارات</h3>
        <ul>
            <li>/welcome - شاشة الترحيب</li>
            <li>/scan - الشاشة الرئيسية (محمية)</li>
            <li>/marketplace - السوق</li>
            <li>/community - المجتمع</li>
            <li>/profile - الملف الشخصي</li>
        </ul>
    </div></div>
    <div id="guest-mode-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>👤 دليل تنفيذ وضع الضيف</h2>
        <p><strong>المسؤول:</strong> محمد | <strong>الوقت:</strong> 3-4 ساعات | <strong>اليوم:</strong> الثلاثاء 20 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>السماح للمستخدمين باستخدام التطبيق بوظائف محدودة بدون تسجيل دخول.</p>
        <h3>📋 الخطوات</h3>
        <ol>
            <li>عند النقر على "متابعة كضيف"، تعيين علم (مثل في Riverpod provider) على true</li>
            <li>في أجزاء أخرى من التطبيق، التحقق من هذا العلم لفرض القيود</li>
        </ol>
        <h3>🚫 قيود وضع الضيف</h3>
        <ul>
            <li>5 فحوصات فقط (مقابل 10 للمستخدم المسجل)</li>
            <li>لا يمكن إنشاء منشورات أو تعليقات</li>
            <li>لا يمكن التصويت</li>
            <li>عرض فقط للمجتمع</li>
            <li>لا يمكن الشراء من السوق</li>
            <li>لا يتم حفظ السجل بشكل دائم</li>
        </ul>
    </div></div>
    <div id="user-profile-service-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>👤 دليل خدمة الملف الشخصي</h2>
        <p><strong>المسؤول:</strong> محمد | <strong>الوقت:</strong> 5-6 ساعات | <strong>اليوم:</strong> الأربعاء 21 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>إنشاء خدمة لإدارة بيانات الملف الشخصي للمستخدم في Firebase.</p>
        <h3>📦 الحزم المطلوبة</h3>
        <ul><li>cloud_firestore أو firebase_database</li></ul>
        <h3>📋 الخطوات</h3>
        <ol>
            <li>إنشاء user_service.dart</li>
            <li>عند أول تسجيل دخول، إنشاء مستند ملف تعريف للمستخدم</li>
            <li>إنشاء method لجلب ملف تعريف المستخدم</li>
            <li>تنفيذ الواجهة لـ profile_screen.dart</li>
        </ol>
        <h3>📊 بيانات الملف الشخصي</h3>
        <ul>
            <li>uid، email، displayName، photoURL</li>
            <li>reputation (السمعة)</li>
            <li>level (المستوى: Newcomer، Explorer، Expert، Master)</li>
            <li>totalScans، totalPosts، totalComments</li>
            <li>badges (الشارات المكتسبة)</li>
            <li>createdAt</li>
        </ul>
    </div></div>
    <div id="marketplace-state-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>🔄 دليل حالة السوق ودمج الواجهة</h2>
        <p><strong>المسؤولان:</strong> منار ومحمد | <strong>الوقت:</strong> 4-5 ساعات | <strong>اليوم:</strong> الثلاثاء 20 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>ربط الواجهة بطبقة الخدمة وإدارة حالة شاشة السوق.</p>
        <h3>📋 الخطوات</h3>
        <ol>
            <li><strong>(محمد)</strong> إنشاء MarketplaceBLoC/Notifier لإدارة حالة السوق</li>
            <li><strong>(منار)</strong> ربط عناصر الواجهة بحل إدارة الحالة</li>
            <li><strong>(محمد)</strong> تنفيذ منطق onPressed لزر "أضف للسلة"</li>
        </ol>
        <h3>🎨 إدارة الحالات</h3>
        <ul>
            <li>loading - جار التحميل</li>
            <li>loaded - المنتجات محملة</li>
            <li>empty - لا توجد منتجات</li>
            <li>error - خطأ في التحميل</li>
        </ul>
    </div></div>
    <div id="community-state-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>🔄 دليل حالة المجتمع ودمج الواجهة</h2>
        <p><strong>المسؤولان:</strong> محمد ومنار | <strong>الوقت:</strong> 5-6 ساعات | <strong>اليوم:</strong> الأحد 25 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>إدارة حالة شاشة المجتمع وربط الواجهة بخدمات البيانات.</p>
        <h3>📋 الخطوات</h3>
        <ol>
            <li><strong>(محمد)</strong> إنشاء CommunityBLoC/Notifier</li>
            <li><strong>(محمد)</strong> تنفيذ التحميل الكسول باستخدام ScrollController</li>
            <li><strong>(منار)</strong> ربط عناصر الواجهة بحل إدارة الحالة</li>
            <li><strong>(محمد)</strong> تنفيذ منطق التصويت في BLoC باستخدام نمط optimistic update</li>
        </ol>
        <h3>🎨 إدارة الحالات</h3>
        <ul>
            <li>initial - حالة البداية</li>
            <li>loading - جار تحميل المنشورات</li>
            <li>loaded - المنشورات محملة</li>
            <li>loadingMore - جار تحميل المزيد</li>
            <li>error - خطأ في التحميل</li>
        </ul>
    </div></div>
    <div id="deep-linking-sharing-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>🔗 دليل الروابط العميقة والمشاركة</h2>
        <p><strong>الفريق:</strong> الجميع | <strong>الوقت:</strong> 4-5 ساعات | <strong>اليوم:</strong> الثلاثاء 27 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>تنفيذ الروابط العميقة لفتح منشورات محددة من URL ومشاركتها.</p>
        <h3>📦 الحزم المطلوبة</h3>
        <ul><li>go_router</li><li>share_plus</li></ul>
        <h3>📋 الخطوات</h3>
        <ol>
            <li>تكوين go_router للتعامل مع مسار مثل /community/post/:postId</li>
            <li>تنفيذ زر "مشاركة" لإنشاء URL واستخدام share_plus</li>
        </ol>
        <h3>🔗 مثال URL</h3>
        <p>https://naaptaa.com/community/post/abc123</p>
    </div></div>
    <div id="core-analysis-logic-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>🔬 دليل نقل منطق التحليل الأساسي</h2>
        <p><strong>المسؤول:</strong> أحمد | <strong>الوقت:</strong> 5-6 ساعات | <strong>اليوم:</strong> الأربعاء 21 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>تكرار منطق handleImageAnalysis من App.tsx.</p>
        <h3>📋 الخطوات</h3>
        <ol>
            <li><strong>نقل منطق حد الفحص:</strong> قبل استدعاء API، التحقق من أن المستخدم لم يتجاوز حد الفحص</li>
            <li><strong>نقل منطق "Is Plant" الاحتياطي:</strong> بعد تلقي التحليل، إذا كان is_plant خاطئًا، تنفيذ نفس الفحص المبني على الكلمات المفتاحية من App.tsx لتجاوز النتيجة إذا لزم الأمر</li>
            <li><strong>تحديث الحالة:</strong> تحديث ScanState إلى success أو failure أو notPlant لتفعيل الواجهة الصحيحة</li>
        </ol>
        <h3>📚 مرجع التطبيق</h3>
        <ul>
            <li>ملف: <code>src/App.tsx</code> - سطور 347-526 (دالة handleImageAnalysis)</li>
            <li>حدود الفحص: سطور 371-385 (ضيف: 5، مستخدم: 10)</li>
            <li>منطق الاحتياطي: سطور 476-511</li>
        </ul>
    </div></div>
    <div id="results-display-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>📊 دليل عرض النتائج وتوصية المنتجات</h2>
        <p><strong>المسؤول:</strong> أحمد | <strong>الوقت:</strong> 5-6 ساعات | <strong>اليوم:</strong> الأحد 25 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>عرض نتائج التحليل وتوصية المنتجات ذات الصلة.</p>
        <h3>📦 الحزم المطلوبة</h3>
        <ul><li>url_launcher</li></ul>
        <h3>📋 الخطوات</h3>
        <ol>
            <li>إنشاء scan_results_screen.dart</li>
            <li>عرض جميع المعلومات من نتيجة التحليل بناءً على التصميم</li>
            <li><strong>منطق التوصية:</strong> استعلام بيانات السوق. إذا وُجد منتج مطابق، الانتقال إلى صفحته. إذا لم يوجد، استخدام url_launcher لإجراء بحث Google عن العلاج</li>
        </ol>
        <h3>🎨 عناصر الواجهة</h3>
        <ul>
            <li>صورة النبات الممسوحة</li>
            <li>اسم المرض ونسبة الثقة</li>
            <li>وصف المرض</li>
            <li>خطوات العلاج</li>
            <li>نصائح الوقاية</li>
            <li>المناطق المتأثرة</li>
            <li>درجة الخطورة</li>
            <li>زر "توصيات المنتجات"</li>
        </ul>
    </div></div>
    <div id="feature-integration-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>🔗 دليل دمج الميزات</h2>
        <p><strong>الفريق:</strong> الجميع | <strong>الوقت:</strong> يوم كامل | <strong>اليوم:</strong> الأربعاء 28 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>دمج جميع الميزات معًا والتأكد من عملها بشكل متناسق.</p>
        <h3>📋 قائمة الدمج</h3>
        <ul>
            <li>✅ الفحص → نتائج → توصيات منتجات → السوق</li>
            <li>✅ المصادقة → الملف الشخصي → الإحصائيات</li>
            <li>✅ المجتمع → القصص → المنشورات → التعليقات</li>
            <li>✅ السوق → السلة → الدفع → الطلبات</li>
            <li>✅ التنقل بين الشاشات سلس</li>
            <li>✅ حالة التطبيق متسقة عبر جميع الميزات</li>
        </ul>
        <h3>🔍 نقاط التحقق</h3>
        <ul>
            <li>جميع الميزات تعمل معًا بدون تعارضات</li>
            <li>البيانات تتدفق بشكل صحيح بين الميزات</li>
            <li>التنقل منطقي وسهل</li>
        </ul>
    </div></div>
    <div id="team-sync-1-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>👥 دليل مزامنة الفريق 1</h2>
        <p><strong>الفريق:</strong> الجميع | <strong>الوقت:</strong> 2-3 ساعات | <strong>اليوم:</strong> الخميس 22 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>اجتماع مراجعة الكود والتزامن للتأكد من تماسك الفريق وجودة الكود.</p>
        <h3>📋 جدول الأعمال</h3>
        <ol>
            <li><strong>مراجعة التقدم:</strong> كل عضو يعرض ما أنجزه (10 دقائق لكل)</li>
            <li><strong>مراجعة الكود:</strong> مراجعة Pull Requests المفتوحة (30 دقيقة)</li>
            <li><strong>حل المشاكل:</strong> مناقشة أي عوائق أو مشاكل تقنية (30 دقيقة)</li>
            <li><strong>التخطيط:</strong> التخطيط للأيام القادمة (15 دقيقة)</li>
        </ol>
        <h3>✅ المخرجات</h3>
        <ul>
            <li>جميع Pull Requests مراجعة ومدمجة</li>
            <li>قائمة بالعوائق مع خطط الحل</li>
            <li>أهداف واضحة للأسبوع القادم</li>
        </ul>
    </div></div>
    <div id="team-sync-2-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>👥 دليل مزامنة الفريق 2</h2>
        <p><strong>الفريق:</strong> الجميع | <strong>الوقت:</strong> 2-3 ساعات | <strong>اليوم:</strong> الخميس 29 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>اجتماع مراجعة الكود والتزامن الثاني قبل بدء أسبوع الاختبار.</p>
        <h3>📋 جدول الأعمال</h3>
        <ol>
            <li><strong>مراجعة الميزات:</strong> التأكد من اكتمال جميع الميزات (20 دقيقة)</li>
            <li><strong>مراجعة الكود النهائية:</strong> مراجعة آخر التغييرات (40 دقيقة)</li>
            <li><strong>التحضير للاختبار:</strong> مناقشة خطة الاختبار (30 دقيقة)</li>
            <li><strong>توزيع المهام:</strong> تقسيم مهام الاختبار (15 دقيقة)</li>
        </ol>
    </div></div>
    <div id="mid-demo-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>🎬 دليل عرض منتصف المشروع</h2>
        <p><strong>الفريق:</strong> الجميع | <strong>الوقت:</strong> 1-2 ساعات | <strong>اليوم:</strong> الجمعة 30 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>عرض توضيحي لما تم إنجازه وجمع الملاحظات.</p>
        <h3>📋 محتوى العرض</h3>
        <ol>
            <li><strong>مقدمة:</strong> نظرة عامة على المشروع (5 دقائق)</li>
            <li><strong>ديمو الفحص:</strong> أحمد يعرض ميزة الفحص الكاملة (10 دقائق)</li>
            <li><strong>ديمو السوق:</strong> منار تعرض السوق والسلة (10 دقائق)</li>
            <li><strong>ديمو المجتمع:</strong> جميعًا يعرضون المجتمع والقصص (10 دقائق)</li>
            <li><strong>جلسة أسئلة:</strong> الإجابة على الأسئلة (10 دقائق)</li>
            <li><strong>جمع الملاحظات:</strong> تدوين الملاحظات والتحسينات المقترحة (10 دقائق)</li>
        </ol>
        <h3>✅ المخرجات</h3>
        <ul>
            <li>قائمة بالملاحظات والتحسينات</li>
            <li>موافقة على المتابعة للأسبوع 3</li>
        </ul>
    </div></div>
    <div id="bug-fixing-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>🐛 دليل إصلاح الأخطاء</h2>
        <p><strong>الفريق:</strong> الجميع | <strong>الوقت:</strong> 2-3 أيام | <strong>الأيام:</strong> 5-7 نوفمبر</p>
        <h3>🎯 الهدف</h3>
        <p>إصلاح جميع الأخطاء المكتشفة خلال الاختبار وتلميع التطبيق.</p>
        <h3>🔴 أولويات الإصلاح</h3>
        <ol>
            <li><strong>حرجة (Critical):</strong> تعطل التطبيق، فقدان بيانات - إصلاح فوري</li>
            <li><strong>عالية (High):</strong> الميزات لا تعمل، أخطاء وظيفية - إصلاح في نفس اليوم</li>
            <li><strong>متوسطة (Medium):</strong> مشاكل الواجهة، أداء بطيء - إصلاح خلال يومين</li>
            <li><strong>منخفضة (Low):</strong> تحسينات طفيفة، مشاكل تجميلية - إصلاح إذا سمح الوقت</li>
        </ol>
        <h3>📝 عملية الإصلاح</h3>
        <ul>
            <li>تسجيل الخطأ في جدول التتبع</li>
            <li>تحديد السبب الجذري</li>
            <li>تنفيذ الإصلاح</li>
            <li>اختبار الإصلاح</li>
            <li>مراجعة الكود</li>
            <li>دمج ونشر</li>
        </ul>
    </div></div>
    <div id="launch-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>🚀 دليل الإطلاق</h2>
        <p><strong>الفريق:</strong> الجميع | <strong>الوقت:</strong> يوم واحد | <strong>اليوم:</strong> 10 نوفمبر</p>
        <h3>🎯 الهدف</h3>
        <p>إطلاق تطبيق نبتة رسميًا على App Store و Google Play!</p>
        <h3>✅ قائمة التحقق قبل الإطلاق</h3>
        <ul>
            <li>✓ جميع الاختبارات نجحت</li>
            <li>✓ جميع الأخطاء الحرجة أُصلحت</li>
            <li>✓ لقطات الشاشة والأوصاف جاهزة</li>
            <li>✓ روابط سياسة الخصوصية تعمل</li>
            <li>✓ حسابات الاختبار جاهزة</li>
            <li>✓ البناء النهائي مُوقّع ومُرفوع</li>
        </ul>
        <h3>📱 خطوات الإطلاق</h3>
        <ol>
            <li>رفع البناء إلى App Store Connect (أحمد)</li>
            <li>رفع البناء إلى Google Play Console (محمد)</li>
            <li>تقديم للمراجعة</li>
            <li>انتظار الموافقة (1-3 أيام عادةً)</li>
            <li>إطلاق التطبيق!</li>
        </ol>
        <h3>🎉 بعد الإطلاق</h3>
        <ul>
            <li>مشاركة روابط التنزيل</li>
            <li>النشر على وسائل التواصل الاجتماعي</li>
            <li>إعلام المجتمع الزراعي</li>
        </ul>
    </div></div>
    <div id="post-launch-monitoring-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>📊 دليل مراقبة ما بعد الإطلاق</h2>
        <p><strong>الفريق:</strong> الجميع | <strong>الوقت:</strong> مستمر | <strong>الأيام:</strong> 11-13 نوفمبر</p>
        <h3>🎯 الهدف</h3>
        <p>مراقبة أداء التطبيق، جمع ملاحظات المستخدمين، والاستجابة السريعة لأي مشاكل.</p>
        <h3>📊 المقاييس المهمة</h3>
        <ul>
            <li><strong>التنزيلات:</strong> عدد التنزيلات اليومية</li>
            <li><strong>التقييمات:</strong> متوسط التقييم والمراجعات</li>
            <li><strong>التعطلات:</strong> معدل التعطل (يجب أن يكون &lt; 1%)</li>
            <li><strong>الاستخدام:</strong> المستخدمون النشطون يوميًا</li>
            <li><strong>الأداء:</strong> وقت بدء التطبيق، وقت استجابة API</li>
        </ul>
        <h3>🔍 المراقبة اليومية</h3>
        <ul>
            <li>التحقق من Firebase Crashlytics</li>
            <li>مراجعة مراجعات المستخدمين</li>
            <li>مراقبة مقاييس الأداء</li>
            <li>الرد على ملاحظات المستخدمين</li>
        </ul>
        <h3>⚠️ خطة الطوارئ</h3>
        <ul>
            <li><strong>إذا حدث خطأ حرج:</strong> إصدار تحديث عاجل خلال 24 ساعة</li>
            <li><strong>إذا كان معدل التعطل مرتفع:</strong> إزالة الميزة المسببة مؤقتًا</li>
            <li><strong>إذا كانت المراجعات سيئة:</strong> تحليل المشاكل وإصدار تحديث تحسين</li>
        </ul>
    </div></div>
    <div id="welcome-screen-ui-guide" class="modal"><div class="modal-content"><span class="close-btn">&times;</span>
        <h2>🎨 دليل شاشة الترحيب</h2>
        <p><strong>المسؤول:</strong> محمد | <strong>الوقت:</strong> 4-5 ساعات | <strong>اليوم:</strong> الأحد 18 أكتوبر</p>
        <h3>🎯 الهدف</h3>
        <p>بناء الشاشة الأولية للمستخدمين الجدد بناءً على التصميم.</p>
        <h3>📋 الخطوات</h3>
        <ol>
            <li>إنشاء welcome_screen.dart</li>
            <li>تنفيذ الواجهة من التصميم</li>
            <li>إضافة زر "تسجيل الدخول بجوجل" وزر "متابعة كضيف"</li>
        </ol>
        <h3>🎨 عناصر الواجهة</h3>
        <ul>
            <li>شعار التطبيق</li>
            <li>عنوان جذاب "طبيبك النباتي الشخصي"</li>
            <li>صورة توضيحية</li>
            <li>قائمة بالميزات الرئيسية</li>
            <li>زر تسجيل الدخول بجوجل (بارز)</li>
            <li>رابط "متابعة كضيف" (أقل بروزًا)</li>
        </ul>
        <h3>✅ قائمة الاختبار</h3>
        <ul>
            <li>✓ التصميم جذاب واحترافي</li>
            <li>✓ الأزرار تعمل بشكل صحيح</li>
            <li>✓ التنقل إلى الشاشة التالية سلس</li>
        </ul>
    </div></div>

    <script src="script.js"></script>
</body>
</html>
